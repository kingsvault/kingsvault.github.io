import{r as t,j as E}from"./index-DFJOw6q8.js";import{M as L,u as b,P as $,a as v,b as A,L as B}from"./proxy-CLa7yhGn.js";class S extends t.Component{getSnapshotBeforeUpdate(a){const e=this.props.childRef.current;if(e&&a.isPresent&&!this.props.isPresent){const r=e.offsetParent,l=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=e.offsetHeight||0,s.width=e.offsetWidth||0,s.top=e.offsetTop,s.left=e.offsetLeft,s.right=l-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function U({children:c,isPresent:a,anchorX:e}){const r=t.useId(),l=t.useRef(null),s=t.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=t.useContext(L);return t.useInsertionEffect(()=>{const{width:C,height:o,top:m,left:n,right:u}=s.current;if(a||!l.current||!C||!o)return;const f=e==="left"?`left: ${n}`:`right: ${u}`;l.current.dataset.motionPopId=r;const d=document.createElement("style");return p&&(d.nonce=p),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${o}px !important;
            ${f}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[a]),E.jsx(S,{isPresent:a,childRef:l,sizeRef:s,children:t.cloneElement(c,{ref:l})})}const W=({children:c,initial:a,isPresent:e,onExitComplete:r,custom:l,presenceAffectsLayout:s,mode:p,anchorX:C})=>{const o=b(N),m=t.useId(),n=t.useCallback(f=>{o.set(f,!0);for(const d of o.values())if(!d)return;r&&r()},[o,r]),u=t.useMemo(()=>({id:m,initial:a,isPresent:e,custom:l,onExitComplete:n,register:f=>(o.set(f,!1),()=>o.delete(f))}),s?[Math.random(),n]:[e,n]);return t.useMemo(()=>{o.forEach((f,d)=>o.set(d,!1))},[e]),t.useEffect(()=>{!e&&!o.size&&r&&r()},[e]),p==="popLayout"&&(c=E.jsx(U,{isPresent:e,anchorX:C,children:c})),E.jsx($.Provider,{value:u,children:c})};function N(){return new Map}const k=c=>c.key||"";function j(c){const a=[];return t.Children.forEach(c,e=>{t.isValidElement(e)&&a.push(e)}),a}const K=({children:c,custom:a,initial:e=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:s="sync",propagate:p=!1,anchorX:C="left"})=>{const[o,m]=v(p),n=t.useMemo(()=>j(c),[c]),u=p&&!o?[]:n.map(k),f=t.useRef(!0),d=t.useRef(n),x=b(()=>new Map),[w,D]=t.useState(n),[g,M]=t.useState(n);A(()=>{f.current=!1,d.current=n;for(let h=0;h<g.length;h++){const i=k(g[h]);u.includes(i)?x.delete(i):x.get(i)!==!0&&x.set(i,!1)}},[g,u.length,u.join("-")]);const R=[];if(n!==w){let h=[...n];for(let i=0;i<g.length;i++){const y=g[i],_=k(y);u.includes(_)||(h.splice(i,0,y),R.push(y))}return s==="wait"&&R.length&&(h=R),M(j(h)),D(n),null}const{forceRender:z}=t.useContext(B);return E.jsx(E.Fragment,{children:g.map(h=>{const i=k(h),y=p&&!o?!1:n===g||u.includes(i),_=()=>{if(x.has(i))x.set(i,!0);else return;let P=!0;x.forEach(I=>{I||(P=!1)}),P&&(z==null||z(),M(d.current),p&&(m==null||m()),r&&r())};return E.jsx(W,{isPresent:y,initial:!f.current||e?void 0:!1,custom:a,presenceAffectsLayout:l,mode:s,onExitComplete:y?void 0:_,anchorX:C,children:h},i)})})},Q="/static/assets/media/bg-collectibles-uWbNiSDD.png",V="/static/assets/media/mythic-mercedes-CmUKLi3-.png",G="/static/assets/media/mythic-zeekr-B7ARx3EI.png",J="/static/assets/media/mythic-porche-CNrISx9U.png",T="/static/assets/media/legend-mercedes-DpEoCIwP.png",F="/static/assets/media/legend-zeekr-CRlJRrtA.png",X="/static/assets/media/legend-porche-D6kMToDJ.png",Y="/static/assets/media/rare-mercedes-DHUCRaDs.png",q="/static/assets/media/rare-zeeker-DaR-O9bl.png",Z="/static/assets/media/rare-porche-CfONaVBQ.png",ee="/static/assets/media/common-mercedes-B6_jWGkQ.png",te="/static/assets/media/common-zeekr-Cb1ALjfY.png",se="/static/assets/media/rare-porche-CfONaVBQ.png";export{K as A,J as a,Q as b,V as c,X as d,T as e,Z as f,Y as g,te as h,se as i,ee as j,F as l,G as m,q as r};
