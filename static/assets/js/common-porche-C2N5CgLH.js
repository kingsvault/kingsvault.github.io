import{r as t,j as R}from"./index-xZ4Es3jI.js";import{M as I,u as j,P as L,a as $,b as A,L as B}from"./proxy-RfBnaLPJ.js";class S extends t.Component{getSnapshotBeforeUpdate(a){const e=this.props.childRef.current;if(e&&a.isPresent&&!this.props.isPresent){const r=e.offsetParent,l=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=e.offsetHeight||0,s.width=e.offsetWidth||0,s.top=e.offsetTop,s.left=e.offsetLeft,s.right=l-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function U({children:c,isPresent:a,anchorX:e}){const r=t.useId(),l=t.useRef(null),s=t.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=t.useContext(I);return t.useInsertionEffect(()=>{const{width:C,height:o,top:p,left:n,right:m}=s.current;if(a||!l.current||!C||!o)return;const f=e==="left"?`left: ${n}`:`right: ${m}`;l.current.dataset.motionPopId=r;const d=document.createElement("style");return u&&(d.nonce=u),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${o}px !important;
            ${f}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[a]),R.jsx(S,{isPresent:a,childRef:l,sizeRef:s,children:t.cloneElement(c,{ref:l})})}const W=({children:c,initial:a,isPresent:e,onExitComplete:r,custom:l,presenceAffectsLayout:s,mode:u,anchorX:C})=>{const o=j(N),p=t.useId(),n=t.useCallback(f=>{o.set(f,!0);for(const d of o.values())if(!d)return;r&&r()},[o,r]),m=t.useMemo(()=>({id:p,initial:a,isPresent:e,custom:l,onExitComplete:n,register:f=>(o.set(f,!1),()=>o.delete(f))}),s?[Math.random(),n]:[e,n]);return t.useMemo(()=>{o.forEach((f,d)=>o.set(d,!1))},[e]),t.useEffect(()=>{!e&&!o.size&&r&&r()},[e]),u==="popLayout"&&(c=R.jsx(U,{isPresent:e,anchorX:C,children:c})),R.jsx(L.Provider,{value:m,children:c})};function N(){return new Map}const E=c=>c.key||"";function P(c){const a=[];return t.Children.forEach(c,e=>{t.isValidElement(e)&&a.push(e)}),a}const H=({children:c,custom:a,initial:e=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:s="sync",propagate:u=!1,anchorX:C="left"})=>{const[o,p]=$(u),n=t.useMemo(()=>P(c),[c]),m=u&&!o?[]:n.map(E),f=t.useRef(!0),d=t.useRef(n),x=j(()=>new Map),[b,w]=t.useState(n),[g,v]=t.useState(n);A(()=>{f.current=!1,d.current=n;for(let h=0;h<g.length;h++){const i=E(g[h]);m.includes(i)?x.delete(i):x.get(i)!==!0&&x.set(i,!1)}},[g,m.length,m.join("-")]);const k=[];if(n!==b){let h=[...n];for(let i=0;i<g.length;i++){const y=g[i],_=E(y);m.includes(_)||(h.splice(i,0,y),k.push(y))}return s==="wait"&&k.length&&(h=k),v(P(h)),w(n),null}const{forceRender:z}=t.useContext(B);return R.jsx(R.Fragment,{children:g.map(h=>{const i=E(h),y=u&&!o?!1:n===g||m.includes(i),_=()=>{if(x.has(i))x.set(i,!0);else return;let M=!0;x.forEach(D=>{D||(M=!1)}),M&&(z==null||z(),v(d.current),u&&(p==null||p()),r&&r())};return R.jsx(W,{isPresent:y,initial:!f.current||e?void 0:!1,custom:a,presenceAffectsLayout:l,mode:s,onExitComplete:y?void 0:_,anchorX:C,children:h},i)})})},K="/static/assets/media/bg-collectibles-uWbNiSDD.png",Q="/static/assets/media/mythic-mercedes-CmUKLi3-.png",V="/static/assets/media/mythic-zeekr-B7ARx3EI.png",G="/static/assets/media/mythic-porche-CNrISx9U.png",J="/static/assets/media/legend-mercedes-DpEoCIwP.png",F="/static/assets/media/legend-zeekr-CRlJRrtA.png",X="/static/assets/media/legend-porche-D6kMToDJ.png",Y="/static/assets/media/rare-mercedes-DHUCRaDs.png",q="/static/assets/media/rare-zeeker-DaR-O9bl.png",Z="/static/assets/media/rare-porche-CfONaVBQ.png",ee="/static/assets/media/common-mercedes-B6_jWGkQ.png",te="/static/assets/media/common-zeekr-Cb1ALjfY.png",se="/static/assets/media/rare-porche-CfONaVBQ.png";export{H as A,G as a,K as b,Q as c,X as d,J as e,Z as f,Y as g,te as h,se as i,ee as j,F as l,V as m,q as r};
